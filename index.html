<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Veux-tu être ma Valentine ?</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Pangolin&display=swap');

html, body {
    font-family: 'Pangolin', cursive;
    background-color: #ffe5ec;
    margin: 0;
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.container {
    text-align: center;
    background: white;
    padding: 2rem;
    border-radius: 30px;
    box-shadow: 0 10px 25px rgba(255, 75, 110, 0.2);
    max-width: 90%;
    transition: all 0.3s ease;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

button {
    transition: transform 0.2s, top 0.2s, left 0.2s;
    cursor: pointer;
}

#yesBtn {
    background-color: #ff4d6d;
    color: white;
    position: relative;
    z-index: 2;
}

#noBtn {
    background-color: #bdbdbd;
    color: white;
    position: fixed; /* bouge librement */
    top: 20%;
    left: 80%;
    transform: translate(-50%, -50%);
    z-index: 1;
}

#finalMessage {
    display: none;
    position: fixed;
    inset: 0;
    background: #ff4d6d;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    gap: 2rem;
    z-index: 1000;
}

#mainGif {
    border-radius: 20px;
    max-height: 200px;
    margin-bottom: 20px;
}

#kissGif {
    max-width: 300px;
    border-radius: 20px;
}
</style>
</head>
<body>

<div class="container" id="mainContainer">

    <!-- GIF principal -->
    <img id="mainGif" 
         src="https://media1.tenor.com/m/pjBtpAFSnmgAAAAd/peach-goma-peach-and-goma.gif" 
         class="mx-auto mb-4">

    <h1 id="question" class="text-3xl font-bold mb-8 text-[#ff4d6d]">Veux-tu être ma Valentine ?</h1>

    <div class="flex justify-center items-center gap-4 relative" id="btnWrapper">
        <button id="yesBtn" class="px-8 py-3 rounded-full font-bold text-xl shadow-lg">
            Oui
        </button>
    </div>
</div>

<!-- Bouton Non en dehors du container -->
<button id="noBtn" class="px-6 py-2 rounded-full font-bold text-lg shadow-lg">Non</button>

<!-- Message final -->
<div id="finalMessage" style="display:none;">
    <img id="kissGif" 
         src="https://media1.tenor.com/m/47JhmZOqxm8AAAAd/dudu-bubu-dudu-kiss-bubu-crashing-to-the-walls.gif" 
         class="mb-6">
    <h1 class="text-5xl font-bold">YAY ! Hâte de te voir ❤️</h1>
</div>

<script>
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const finalMessage = document.getElementById('finalMessage');

let noCount = 0;
const phrases = [
    "Tu es sûre ?",
    "Et si je demandais très gentiment ?",
    "S'il te plait mon amour...",
    "Avec un gâteau au chocolat par dessus ?",
    "Et avec un matcha frappé ?",
    "S'IL TE PLAÎT POOKIE",
    "Mais... :*(",
    "Je vais mourir là...",
    "Ça y est, je suis mort.",
    "Ok, tu parles au fantôme d'Antoine là.",
    "S'il te plait bébé",
    ":((((",
    "Je ne m'arrêterai pas !",
    "Regarde la taille du bouton OUI maintenant..."
];

// Précharger les images
["https://media1.tenor.com/m/pjBtpAFSnmgAAAAd/peach-goma-peach-and-goma.gif",
 "https://media1.tenor.com/m/47JhmZOqxm8AAAAd/dudu-bubu-dudu-kiss-bubu-crashing-to-the-walls.gif"].forEach(src => {
    const img = new Image();
    img.src = src;
});

noBtn.addEventListener('click', () => {
    noCount++;

    if (noCount <= phrases.length) {
        noBtn.innerText = phrases[noCount - 1];
    } else {
        noBtn.innerText = "Bon, t'as plus le choix.";
    }

    // Agrandir le Oui
    const scale = 1 + noCount * 0.4;
    yesBtn.style.transform = `scale(${scale})`;

    // Rétrécir le Non
    const shrink = Math.max(0.3, 1 - noCount*0.05);
    noBtn.style.transform = `scale(${shrink})`;

    // Position aléatoire en haut (0 à 50%)
    const maxX = window.innerWidth - noBtn.offsetWidth;
    const maxY = window.innerHeight / 2 - noBtn.offsetHeight;
    const x = Math.random() * maxX;
    const y = Math.random() * maxY;
    noBtn.style.left = `${x}px`;
    noBtn.style.top = `${y}px`;

    // Disparaît seulement à la toute fin
    if(noCount > 15) {
        noBtn.style.display = 'none';
    }
});

yesBtn.addEventListener('click', () => {
    finalMessage.style.display = 'flex';
});
</script>

</body>
</html>
